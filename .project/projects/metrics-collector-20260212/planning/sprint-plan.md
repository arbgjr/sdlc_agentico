# Sprint Plan - GitHub Metrics Collector

## Project Overview

| Field | Value |
|-------|-------|
| Project | metrics-collector-20260212 |
| Total Sprints | 3 |
| Sprint Duration | 14 days |
| Start Date | 2026-02-17 |
| Estimated End | 2026-03-28 |
| Total Story Points | 89 |

## Sprint Summary

```
Sprint 1: Foundation          [====================>           ] 34 pts
Sprint 2: DORA & Velocity     [===============>                ] 30 pts
Sprint 3: Export & Polish     [============>                   ] 25 pts
                              ─────────────────────────────────────────
                              Total: 89 story points (~30 pts/sprint)
```

## Sprint 1: Foundation (Feb 17 - Mar 2)

**Goal**: Setup infrastructure and basic Copilot collection

### User Stories

| ID | Title | Points | Priority |
|----|-------|--------|----------|
| US-012 | Configurar Banco de Dados | 7 | Must |
| US-013 | Configurar Gestao de Segredos | 4 | Must |
| US-014 | Configurar Conexao PowerBI | 3 | Must |
| US-001 | Coletar Metricas Copilot Org | 5 | Must |
| US-002 | Coletar Metricas Copilot Usuario | 3 | Must |
| US-003 | Coletar Metricas Copilot Linguagem | 2 | Should |
| US-017 | Coletar Requests Premium | 5 | Must |

### Key Deliverables

- [ ] Azure Functions App running
- [ ] PostgreSQL with schema deployed
- [ ] Key Vault with secrets configured
- [ ] Copilot daily metrics collecting (org + user + language)
- [ ] Premium requests metrics collecting
- [ ] PowerBI test connection working

### Dependencies

- **CRITICAL**: GitHub PATs must be obtained by Feb 14
- Service principal for PowerBI access

---

## Sprint 2: DORA & Velocity (Mar 3 - Mar 16)

**Goal**: Implement DORA metrics and velocity calculations

### User Stories

| ID | Title | Points | Priority |
|----|-------|--------|----------|
| US-004 | Deployment Frequency | 7 | Must |
| US-005 | Lead Time for Changes | 8 | Must |
| US-006 | Change Failure Rate | 4 | Should |
| US-008 | Commit Frequency | 6 | Must |
| US-009 | PR Throughput | 2 | Must |
| US-015 | Scheduling Automatico | 6 | Must |

### Key Deliverables

- [ ] Workflow runs collection working
- [ ] DORA metrics calculated (DF, LT, CFR)
- [ ] Velocity metrics calculated (commits, PRs)
- [ ] Timer trigger configured (06:00 UTC)
- [ ] Monitoring alerts configured

### Dependencies

- Sprint 1 completed
- GitHub Actions access for deployment detection

---

## Sprint 3: Export & Polish (Mar 17 - Mar 28)

**Goal**: CSV export, SharePoint integration, historical data

### User Stories

| ID | Title | Points | Priority |
|----|-------|--------|----------|
| US-007 | MTTR Estimation | 4 | Could |
| US-010 | Review Time | 3 | Should |
| US-011 | Code Churn | 3 | Could |
| US-016 | Importar Dados Historicos | 5 | Should |

### Key Deliverables

- [ ] CSV export working (4 files)
- [ ] SharePoint upload automated
- [ ] MTTR estimation implemented
- [ ] Review time and code churn calculated
- [ ] Historical import script ready
- [ ] Operational documentation complete

### Dependencies

- Sprint 2 completed
- SharePoint site access (by Mar 17)

---

## Resource Allocation

| Role | Sprint 1 | Sprint 2 | Sprint 3 |
|------|----------|----------|----------|
| **code-author** | 80% | 80% | 70% |
| **iac-engineer** | 30% | 10% | - |
| **data-architect** | 20% | - | - |
| **test-author** | 10% | 20% | 20% |
| **doc-generator** | - | - | 10% |

## Risk Register

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| PATs not obtained | High | Medium | Request 1 week before Sprint 1 |
| Premium API not available | Medium | Low | Graceful fallback, document limitation |
| Rate limits exceeded | Medium | Medium | Exponential backoff, distribute collection |
| SharePoint access delayed | Medium | Low | Can test with local files first |

## Definition of Done

For each task:
- [ ] Code implemented and working
- [ ] Unit tests passing (>80% coverage)
- [ ] Code reviewed and approved
- [ ] Documentation updated
- [ ] No security vulnerabilities
- [ ] Deployed to test environment

For each sprint:
- [ ] All must-have stories completed
- [ ] Sprint demo delivered
- [ ] Retrospective conducted
- [ ] Next sprint planned

## Milestones

| Milestone | Date | Criteria |
|-----------|------|----------|
| **M1: Infrastructure Ready** | Feb 21 | All Azure resources deployed |
| **M2: Copilot Collection** | Mar 2 | Daily Copilot metrics in DB |
| **M3: DORA Metrics** | Mar 16 | All 4 DORA metrics calculated |
| **M4: Production Ready** | Mar 28 | End-to-end flow working |

## Communication Plan

- **Daily standup**: 09:30 BRT (async in Slack)
- **Sprint review**: Last day of sprint, 14:00 BRT
- **Sprint retrospective**: After review
- **Stakeholder update**: Weekly on Fridays

---

*Generated by SDLC Agentico - Phase 4 Planning*
