---
# Intake Analysis Result
# Generated by: intake-analyst
# Phase: 0 (Preparation)
# Date: 2026-02-12T20:10:47Z

intake_result:
  id: "REQ-20260212-001"
  title: "GitHub Metrics Collector - Multi-Enterprise Analytics Platform"
  summary: |
    Aplicacao para extracao automatizada de metricas de uso do GitHub Copilot
    e metricas de engenharia (DORA, Velocity) de 2 organizacoes GitHub Enterprise Cloud,
    com exportacao de dados estruturados para consumo no PowerBI.

  extracted:
    who:
      requester: "AI Office - SU-AIOFFICE"
      stakeholders:
        - "Engineering Leadership"
        - "DevOps/Platform Teams"
        - "AI Office"
        - "Business Intelligence Team"
      end_users:
        - "Engineering Managers"
        - "Tech Leads"
        - "BI Analysts"
        - "Executive Sponsors"

    what:
      problem: |
        Necessidade de visibilidade sobre adocao e impacto do GitHub Copilot,
        alem de metricas de engenharia (DORA/Velocity) para medir produtividade
        e qualidade do desenvolvimento de software em duas organizacoes enterprise.
      solution_hint: |
        Aplicacao que coleta dados via GitHub APIs (REST e GraphQL),
        processa e armazena metricas, e exporta para PowerBI.
      scope:
        included:
          - "Metricas GitHub Copilot (acceptance rate, usage by language/editor, active users)"
          - "Metricas DORA (Lead Time, Deploy Frequency, MTTR, Change Failure Rate)"
          - "Metricas Velocity (commit frequency, PR throughput, review time, code churn)"
          - "Suporte a 2 organizacoes GitHub Enterprise Cloud"
          - "Exportacao de dados para PowerBI"
        excluded:
          - "GitHub Enterprise Server (GHES) - apenas Cloud"
          - "Integracao real-time com outros dashboards"
          - "Metricas de outras plataformas (GitLab, Bitbucket)"
          - "Self-service configuration UI (MVP)"

    why:
      business_value: |
        - Medir ROI do investimento em GitHub Copilot
        - Visibilidade sobre eficiencia de engenharia (DORA metrics)
        - Identificar gargalos no ciclo de desenvolvimento
        - Suportar decisoes baseadas em dados para lideranca
      urgency: "Alta - necessidade de demonstrar valor do investimento em AI"
      impact: |
        Sem essa ferramenta, nao ha visibilidade sobre adocao do Copilot
        e metricas de engenharia, dificultando decisoes de investimento
        e identificacao de problemas de produtividade.

    when:
      deadline: "Nao especificado - MVP prioritario"
      dependencies:
        - "Acesso as APIs do GitHub Enterprise Cloud"
        - "Tokens de autenticacao para ambas organizacoes"
        - "Licenca PowerBI para consumo dos dados"
        - "Permissoes de admin para Copilot Usage API"

    constraints:
      technical:
        - "GitHub APIs rate limits (5000 req/hour autenticado)"
        - "Copilot Usage API requer permissoes de organization admin"
        - "Dados de 2 organizacoes distintas"
        - "Export format compativel com PowerBI"
      business:
        - "Dados sensiveis de produtividade corporativa"
        - "Confidencialidade entre organizacoes"
        - "Custos de API calls e storage"
      regulatory:
        - "Dados de uso individual podem requerer anonimizacao"
        - "Politicas corporativas de retencao de dados"
        - "Compliance com politicas internas de dados"

  classification:
    type: "feature"
    priority:
      level: "high"
      rationale: "Necessidade de demonstrar ROI de investimento estrategico (GitHub Copilot)"
    complexity:
      level: 2
      signals:
        - "Novo produto (nao e extensao de sistema existente)"
        - "Integracao com APIs externas (GitHub)"
        - "Multiplas fontes de dados (2 orgs)"
        - "Data pipeline para BI"
        - "Requisitos de seguranca (dados corporativos)"
    risk:
      level: "medium"
      factors:
        - "Dependencia de APIs externas"
        - "Rate limits podem impactar coleta"
        - "Sensibilidade dos dados de produtividade"
        - "Integracao multi-organization"

  similar_requests: []  # Primeiro projeto deste tipo no repositorio

  compliance_flags:
    - flag: "CORPORATE_DATA"
      reason: "Dados de produtividade e metricas de engenharia sao sensiveis"
    - flag: "MULTI_TENANT"
      reason: "Dados de 2 organizacoes distintas - segregacao necessaria"
    - flag: "API_CREDENTIALS"
      reason: "Tokens de autenticacao GitHub precisam ser protegidos"
    - flag: "PII_POTENTIAL"
      reason: "Metricas de uso individual podem identificar desenvolvedores"

  recommended_flow:
    phases: [0, 1, 2, 3, 4, 5, 6, 7, 8]
    skip_phases: []
    estimated_time: "30 min - 2 horas de planejamento"

  open_questions:
    - question: "Quais sao as duas organizacoes GitHub Enterprise Cloud?"
      blocking: true
      context: "Necessario para configurar autenticacao e coleta"
    - question: "Qual a frequencia de atualizacao das metricas (daily, hourly)?"
      blocking: false
      context: "Impacta arquitetura de scheduling e storage"
    - question: "Quanto historico de dados e necessario?"
      blocking: false
      context: "Impacta volume de storage e tempo de backfill inicial"
    - question: "Metricas de uso individual serao anonimizadas ou identificadas?"
      blocking: true
      context: "Impacta modelo de dados e compliance"
    - question: "Qual formato de exportacao preferido para PowerBI (CSV, Parquet, Direct Query)?"
      blocking: false
      context: "Impacta arquitetura de integracao"

  next_agent: "compliance-guardian"

  technical_analysis:
    apis_required:
      - name: "GitHub REST API"
        endpoints:
          - "/repos/{owner}/{repo}/commits"
          - "/repos/{owner}/{repo}/pulls"
          - "/orgs/{org}/members"
        auth: "Personal Access Token or GitHub App"
        rate_limit: "5000 requests/hour"

      - name: "GitHub GraphQL API"
        use_cases:
          - "Bulk data fetching"
          - "Complex queries (PR reviews, comments)"
        auth: "Same as REST"

      - name: "GitHub Copilot Usage API"
        endpoints:
          - "/orgs/{org}/copilot/usage"
        auth: "Organization admin token"
        permissions: "manage_billing:copilot"
        note: "Requires Enterprise Cloud license"

    suggested_tech_stack:
      runtime: "Python 3.11+"
      frameworks:
        - "FastAPI or CLI-based"
        - "requests/httpx for API calls"
        - "pandas for data processing"
      storage:
        - "PostgreSQL or SQLite for local dev"
        - "Azure Data Lake or S3 for production"
      scheduling:
        - "Azure Functions Timer Trigger"
        - "Or GitHub Actions scheduled workflow"
      output:
        - "Parquet files for PowerBI DirectQuery"
        - "Or CSV with incremental updates"

    metrics_calculation:
      dora:
        lead_time: "commit timestamp -> deploy timestamp"
        deploy_frequency: "releases/week or merges to main/week"
        mttr: "time between incident open -> close"
        change_failure_rate: "rollbacks / total deploys"
      velocity:
        commit_frequency: "commits per developer per day"
        pr_throughput: "PRs merged per week"
        review_time: "PR open -> first review"
        code_churn: "lines added vs deleted in time window"
      copilot:
        acceptance_rate: "suggestions accepted / suggestions shown"
        usage_by_language: "breakdown by file extension"
        usage_by_editor: "breakdown by IDE"
        active_users: "unique users with Copilot activity"
